"use strict";(()=>{var e={};e.id=85,e.ids=[85],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5491:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>q,patchFetch:()=>x,requestAsyncStorage:()=>y,routeModule:()=>p,serverHooks:()=>g,staticGenerationAsyncStorage:()=>f});var s={};r.r(s),r.d(s,{POST:()=>d});var n=r(49303),i=r(88716),a=r(60670),o=r(87070),u=r(30971),m=r(72331),l=r(35860),c=r(50650);async function d(e){try{let t=(0,c.H9)(e),r=(0,l.h)(t,1,15e3);if(!r.success)return o.NextResponse.json({error:"Too many requests. Please wait before submitting again.",resetTime:r.resetTime},{status:429});let s=await e.json(),n=u.Dh.safeParse(s);if(!n.success)return o.NextResponse.json({error:"Invalid request data",details:n.error.errors},{status:400});let{email:i,content:a,imageUrls:d}=n.data,p=await m._.customerInquiry.create({data:{email:i,content:a,imageUrls:d}});return console.log("New inquiry created:",p.id),o.NextResponse.json({success:!0,message:"Inquiry submitted successfully"})}catch(e){return console.error("Inquiry submission error:",e),o.NextResponse.json({error:"Failed to submit inquiry"},{status:500})}}let p=new n.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/inquiry/route",pathname:"/api/inquiry",filename:"route",bundlePath:"app/api/inquiry/route"},resolvedPagePath:"/home/runner/work/tbsgroup/tbsgroup/app/api/inquiry/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:y,staticGenerationAsyncStorage:f,serverHooks:g}=p,q="/api/inquiry/route";function x(){return(0,a.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:f})}},72331:(e,t,r)=>{r.d(t,{_:()=>s});let s={adminUser:{findUnique:async()=>null,upsert:async()=>({})},customerInquiry:{create:async()=>({}),findMany:async()=>[],count:async()=>0},$disconnect:async()=>{}}},35860:(e,t,r)=>{r.d(t,{h:()=>n});let s=new Map;function n(e,t=1,r=15e3){let n=Date.now(),i=s.get(e);i&&n>i.resetTime&&s.delete(e);let a=s.get(e);return a?a.count>=t?{success:!1,remaining:0,resetTime:a.resetTime}:(a.count++,s.set(e,a),{success:!0,remaining:t-a.count,resetTime:a.resetTime}):(s.set(e,{count:1,resetTime:n+r}),{success:!0,remaining:t-1,resetTime:n+r})}setInterval(()=>{let e=Date.now();for(let[t,r]of Array.from(s.entries()))e>r.resetTime&&s.delete(t)},6e4)},50650:(e,t,r)=>{r.d(t,{H9:()=>s});function s(e){let t=e.headers.get("x-forwarded-for"),r=e.headers.get("x-real-ip");return t?t.split(",")[0].trim():r?r.trim():"unknown"}},30971:(e,t,r)=>{r.d(t,{C0:()=>i,Dh:()=>n});var s=r(21067);let n=s.Ry({email:s.Z_().email("Invalid email address"),content:s.Z_().trim().min(10,"Content must be at least 10 characters").max(2e3,"Content must be less than 2000 characters"),imageUrls:s.IX(s.Z_().url()).max(5,"Maximum 5 images allowed")}),i=s.Ry({files:s.IX(s.Ry({filename:s.Z_().min(1,"Filename is required"),contentType:s.Z_().min(1,"Content type is required")})).max(5,"Maximum 5 files allowed")});s.Ry({email:s.Z_().email("Invalid email address"),password:s.Z_().min(1,"Password is required")})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,972,856],()=>r(5491));module.exports=s})();