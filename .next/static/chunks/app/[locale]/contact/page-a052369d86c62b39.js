(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[961],{9086:function(e,t,a){Promise.resolve().then(a.bind(a,4794)),Promise.resolve().then(a.bind(a,3051)),Promise.resolve().then(a.bind(a,7867)),Promise.resolve().then(a.bind(a,1085)),Promise.resolve().then(a.bind(a,575))},4794:function(e,t,a){"use strict";a.d(t,{ContactForm:function(){return o}});var r=a(7437),n=a(2265),i=a(2586),s=a(3287),l=a(3051);function o(){let e=(0,i.useTranslations)("contact"),[t,a]=(0,n.useState)({email:"",content:""}),[o,c]=(0,n.useState)([]),[d,m]=(0,n.useState)(!1),[u,h]=(0,n.useState)(!1),[p,f]=(0,n.useState)(""),[x,b]=(0,n.useState)(!1),g=e=>{let{name:t,value:r}=e.target;a(e=>({...e,[t]:r})),f("")},y=(0,n.useCallback)(e=>{if(!e)return;let t=[];for(let a=0;a<e.length;a++){let r=e[a];if(!r.type.startsWith("image/")){f("Only image files are allowed");continue}if(r.size>5242880){f("File size must be less than 5MB");continue}if(o.length+t.length>=5){f("Maximum 5 files allowed");break}t.push({file:r,preview:URL.createObjectURL(r),uploaded:!1})}c(e=>[...e,...t])},[o.length]),v=(0,n.useCallback)(e=>{e.preventDefault(),b(!1),y(e.dataTransfer.files)},[y]),j=(0,n.useCallback)(e=>{e.preventDefault(),b(!0)},[]),w=(0,n.useCallback)(e=>{e.preventDefault(),b(!1)},[]),N=e=>{c(t=>{let a=[...t];return URL.revokeObjectURL(a[e].preview),a.splice(e,1),a})},k=async()=>{if(0===o.length)return[];let e={files:o.map(e=>({filename:e.file.name,contentType:e.file.type}))},t=await fetch("/api/upload-url",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to get upload URLs");let{uploads:a}=await t.json();return Promise.all(o.map(async(e,t)=>{let r=a[t];if(!(await fetch(r.url,{method:"PUT",body:e.file,headers:{"Content-Type":e.file.type}})).ok)throw Error("Failed to upload ".concat(e.file.name));return r.publicUrl}))},C=async e=>{e.preventDefault(),m(!0),f("");try{if(!t.email||!t.content)throw Error("Please fill in all required fields");if(t.content.length<10)throw Error("Content must be at least 10 characters");let e=await k(),r=await fetch("/api/inquiry",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,content:t.content,imageUrls:e})});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to submit inquiry")}h(!0),a({email:"",content:""}),c([])}catch(e){f(e instanceof Error?e.message:"An error occurred")}finally{m(!1)}};return u?(0,r.jsx)(l.MotionFadeIn,{children:(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(s.E.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,type:"spring"},className:"w-16 h-16 bg-green-500 text-white rounded-full flex items-center justify-center mx-auto mb-6",children:"âœ“"}),(0,r.jsx)("h3",{className:"text-2xl font-bold text-brand-primary mb-4",children:e("success.title")}),(0,r.jsx)("p",{className:"text-gray-600 mb-8",children:e("success.message")}),(0,r.jsx)("button",{onClick:()=>h(!1),className:"btn-secondary",children:"Send Another Message"})]})}):(0,r.jsx)(l.MotionFadeIn,{children:(0,r.jsxs)("form",{onSubmit:C,className:"space-y-6",children:[p&&(0,r.jsx)(s.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:p}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:[e("form.email")," *"]}),(0,r.jsx)("input",{type:"email",id:"email",name:"email",value:t.email,onChange:g,required:!0,className:"input",placeholder:"your@email.com"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-2",children:[e("form.content")," *"]}),(0,r.jsx)("textarea",{id:"content",name:"content",value:t.content,onChange:g,required:!0,rows:6,className:"textarea",placeholder:e("description")}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[t.content.length,"/2000 characters"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("form.images")}),(0,r.jsxs)("div",{onDrop:v,onDragOver:j,onDragLeave:w,className:"border-2 border-dashed rounded-lg p-6 text-center transition-colors ".concat(x?"border-brand-accent bg-brand-accent/5":"border-gray-300 hover:border-gray-400"),children:[(0,r.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>y(e.target.files),className:"hidden",id:"file-upload"}),(0,r.jsx)("label",{htmlFor:"file-upload",className:"cursor-pointer",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("svg",{className:"w-8 h-8 text-gray-400 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:e("form.dragDrop")}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:e("form.maxFiles")})]})})]}),o.length>0&&(0,r.jsx)("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:o.map((e,t)=>(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsx)("img",{src:e.preview,alt:"Preview ".concat(t+1),className:"w-full aspect-square object-cover rounded-lg"}),(0,r.jsx)("button",{type:"button",onClick:()=>N(t),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center text-xs",children:"\xd7"})]},t))})]}),(0,r.jsx)(s.E.button,{type:"submit",disabled:d,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full btn-primary ".concat(d?"opacity-50 cursor-not-allowed":""),children:e(d?"form.sending":"form.submit")})]})})}},3051:function(e,t,a){"use strict";a.d(t,{MotionFadeIn:function(){return i}});var r=a(7437),n=a(3287);function i(e){let{children:t,delay:a=0,duration:i=.6,className:s=""}=e;return(0,r.jsx)(n.E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:i,delay:a,ease:[.4,0,.2,1]},viewport:{once:!0,margin:"-100px"},className:s,children:t})}}},function(e){e.O(0,[118,223,971,117,744],function(){return e(e.s=9086)}),_N_E=e.O()}]);